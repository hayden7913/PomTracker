* {
  box-sizing:border-box;
}

html,body {
  min-height:100%;
  height:100%;
  &.modal-active {
    overflow: hidden;
  }
}

.modal-container {
  position:fixed;
  height:100%;
  width:100%;
  top:0;
  left:0;
  transform:scale(0);
  z-index:1;
  
  .modal-background {
    // display:table-cell;
    height: 100%;
    background:rgba(0,0,0,.8);
    text-align:center;
    
    .modal {
      // padding-bottom: 46px;
      background:white;
      border-radius:3px;
      display:inline-block;
      font-family: $modal-font;
      font-weight:300;
      min-height: 310px;
      min-width: 525px;
      padding: 106px 58px;
      padding-top: 46px;
      position: relative;
      
      .fullscreen-container {
        margin-top: $onboard-screen-top-margin;
      }
      
      .modal-button-bottom-right {
        position: absolute;
        right: 0;
        bottom: 0;
        margin: 0 60px 40px 0;
      }      
      
      .modal-close {
        position: absolute;
        top: 13px;
        right: 26px;
        color: #aaa;
        float: right;
        font-size: 31px;
        font-weight: bold;
        
        &:hover {
          cursor: pointer; 
        }
      }
      
      .modal-button-right {
        &:hover {
          background-color: #528ff5;
          cursor: pointer;
        }  
      }    
    }
  }
  
  &.unfold {
    transform:scaleY(.01) scaleX(0);
    animation:unfoldIn 1s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
    .modal-background {
      .modal {
        &.fullscreen-modal {
          height: 100%;
          width: 100%;
        }
        
        transform:scale(0);
        animation: zoomIn .5s .8s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
      }
    }
    
    &.out {
      transform:scale(1);
      animation:unfoldOut 1s .3s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
      .modal-background {
        .modal {
          animation: zoomOut .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
        }
      }
    }
  }
  
  &.roadrunner {
    display: table;
    transform:scale(1);
    .modal-background {
      display:table-cell;
      text-align:center;
      vertical-align:middle;
      background:rgba(0,0,0,.0);
      animation: fadeInBackground .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
      .modal {
        transform:translateX(-1500px);
        animation: roadRunnerIn .3s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
      }
    }
    
    &.out {
      animation: quickScaleDown 0s .5s linear forwards;
      .modal-background {
        animation: fadeOutBackground .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
        .modal {
          animation: roadRunnerOut .5s cubic-bezier(0.165, 0.840, 0.440, 1.000) forwards;
        }
      }
    }
  }
}

.fullscreen-modal {
  .modal-close {
    // display: none;
  }
}

@keyframes unfoldIn {
  0% {
    transform:scaleY(.005) scaleX(0);
  }
  50% {
    transform:scaleY(.005) scaleX(1);
  }
  100% {
    transform:scaleY(1) scaleX(1);
  }
}

@keyframes unfoldOut {
  0% {
    transform:scaleY(1) scaleX(1);
  }
  50% {
    transform:scaleY(.005) scaleX(1);
  }
  100% {
    transform:scaleY(.005) scaleX(0);
  }
}

@keyframes zoomIn {
  0% {
    transform:scale(0);
  }
  100% {
    transform:scale(1);
  }
}

@keyframes zoomOut {
  0% {
    transform:scale(1);
  }
  100% {
    transform:scale(0);
  }
}

@keyframes fadeInBackground {
  0% {
    background:rgba(0,0,0,.0);
  }
  100% {
    background:rgba(0,0,0,.7);
  }
}

@keyframes fadeOutBackground {
  0% {
    background:rgba(0,0,0,.7);
  }
  100% {
    background:rgba(0,0,0,.0);
  }
}


@keyframes quickScaleDown {
  0% {
    transform:scale(1);
  }
  99.9% {
    transform:scale(1);
  }
  100% {
    transform:scale(0);
  }
}


@keyframes roadRunnerIn {
  0% {
     transform:translateX(-1500px) skewX(30deg) scaleX(1.3);
   }
   70% {
     transform:translateX(30px) skewX(0deg) scaleX(.9);
   }
   100% {
     transform:translateX(0px) skewX(0deg) scaleX(1);
   }
}

@keyframes roadRunnerOut {
  0% {
    transform:translateX(0px) skewX(0deg) scaleX(1);
  }
  30% {
    transform:translateX(-30px) skewX(-5deg) scaleX(.9);
  }
  100% {
    transform:translateX(1500px) skewX(30deg) scaleX(1.3);
  }
}
